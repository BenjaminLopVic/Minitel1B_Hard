////////////////////////////////////////////////////////////////////////
/*
   3615 Couleurs - Version du 6 mars 2023 à 18h02
   Copyright 2017-2023 - Eric Sérandour
   
   Attention : Ce programme fonctionne bien sur un ATMega 1284P.
   Sur un microcontrôleur qui dispose de moins de mémoire,
   il pourrait ne pas fonctionner correctement.
   
   Documentation utilisée :
   Spécifications Techniques d'Utilisation du Minitel 1B
   http://543210.free.fr/TV/stum1b.pdf
   
////////////////////////////////////////////////////////////////////////
   
   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program. If not, see <http://www.gnu.org/licenses/>.
   
////////////////////////////////////////////////////////////////////////
  DEBUT DU PROGRAMME (Compile sous Arduino 1.6.13)
*///////////////////////////////////////////////////////////////////////

#include <Minitel1B_Hard.h>  // Voir https://github.com/eserandour/Minitel1B_Hard
// Minitel minitel(Serial);  // Le premier port série matériel de l'ATMega 1284P (RXD0 TXD0).
Minitel minitel(Serial1);    // Le deuxième port série matériel de l'ATMega 1284P (RXD1 TXD1).

////////////////////////////////////////////////////////////////////////

#define TITRE "3615 COULEURS"

String texte="";
int nbCaracteres=0;
const int PREMIERE_LIGNE_EXPRESSION = 4;
const int NB_LIGNES_EXPRESSION = 18;
const String VIDE = ".";

unsigned long touche;

#include <avr/pgmspace.h>
typedef unsigned char PROGMEM prog_uchar;
const int LONGUEUR_TRAME_PORTRAIT = 4802;
const prog_uchar PORTRAIT[] PROGMEM = {0x0C,0x0E,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x53,0x3F,0x1B,0x43,0x1B,0x53,0x3F,0x1B,0x43,0x1B,0x53,0x2B,0x1B,0x43,0x1B,0x53,0x23,0x1B,0x43,0x1B,0x53,0x67,0x1B,0x46,0x1B,0x53,0x68,0x1B,0x41,0x1B,0x56,0x7C,0x1B,0x41,0x1B,0x55,0x3F,0x1B,0x41,0x1B,0x55,0x6F,0x1B,0x41,0x1B,0x55,0x3F,0x1B,0x41,0x1B,0x51,0x2F,0x1B,0x41,0x1B,0x52,0x3F,0x1B,0x41,0x1B,0x52,0x27,0x1B,0x41,0x1B,0x52,0x2B,0x1B,0x41,0x1B,0x56,0x2F,0x1B,0x41,0x1B,0x56,0x2B,0x1B,0x41,0x1B,0x52,0x2F,0x1B,0x41,0x1B,0x56,0x7F,0x1B,0x45,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x2B,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x2B,0x1B,0x42,0x1B,0x56,0x2B,0x1B,0x42,0x1B,0x52,0x28,0x1B,0x42,0x1B,0x52,0x6B,0x1B,0x42,0x1B,0x52,0x6B,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x53,0x37,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x43,0x1B,0x53,0x33,0x1B,0x43,0x1B,0x53,0x3F,0x1B,0x43,0x1B,0x53,0x3F,0x1B,0x41,0x1B,0x53,0x68,0x1B,0x41,0x1B,0x55,0x37,0x1B,0x45,0x1B,0x52,0x27,0x1B,0x45,0x1B,0x56,0x2B,0x1B,0x45,0x1B,0x53,0x23,0x1B,0x45,0x1B,0x53,0x23,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x45,0x1B,0x52,0x68,0x1B,0x41,0x1B,0x52,0x28,0x1B,0x41,0x1B,0x52,0x7F,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x6C,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x28,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x53,0x7F,0x1B,0x43,0x1B,0x53,0x37,0x1B,0x43,0x1B,0x53,0x37,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x43,0x1B,0x53,0x7F,0x1B,0x41,0x1B,0x52,0x68,0x1B,0x45,0x1B,0x52,0x37,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x53,0x2F,0x1B,0x46,0x1B,0x53,0x2B,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x2B,0x1B,0x46,0x1B,0x56,0x28,0x1B,0x42,0x1B,0x56,0x28,0x1B,0x42,0x1B,0x52,0x6B,0x1B,0x45,0x1B,0x52,0x68,0x1B,0x41,0x1B,0x55,0x68,0x1B,0x45,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x46,0x1B,0x56,0x28,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x7B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x6B,0x1B,0x42,0x1B,0x52,0x6B,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x53,0x7F,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x43,0x1B,0x53,0x7F,0x1B,0x43,0x1B,0x53,0x7C,0x1B,0x43,0x1B,0x53,0x68,0x1B,0x45,0x1B,0x55,0x74,0x1B,0x42,0x1B,0x52,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x53,0x70,0x1B,0x46,0x1B,0x53,0x78,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x28,0x1B,0x42,0x1B,0x52,0x6B,0x1B,0x41,0x1B,0x55,0x68,0x1B,0x41,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x28,0x1B,0x46,0x1B,0x56,0x20,0x1B,0x46,0x1B,0x56,0x7B,0x1B,0x46,0x1B,0x56,0x28,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x28,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x42,0x1B,0x56,0x6B,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x53,0x77,0x1B,0x43,0x1B,0x53,0x37,0x1B,0x43,0x1B,0x53,0x33,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x46,0x1B,0x53,0x28,0x1B,0x41,0x1B,0x55,0x27,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x42,0x1B,0x56,0x70,0x1B,0x45,0x1B,0x56,0x70,0x1B,0x45,0x1B,0x56,0x70,0x1B,0x45,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x74,0x1B,0x45,0x1B,0x56,0x70,0x1B,0x41,0x1B,0x56,0x70,0x1B,0x41,0x1B,0x52,0x7C,0x1B,0x41,0x1B,0x52,0x7C,0x1B,0x41,0x1B,0x52,0x70,0x1B,0x45,0x1B,0x55,0x78,0x1B,0x41,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x6C,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x43,0x1B,0x53,0x7F,0x1B,0x43,0x1B,0x53,0x3C,0x1B,0x43,0x1B,0x53,0x37,0x1B,0x45,0x1B,0x56,0x6F,0x1B,0x42,0x1B,0x52,0x70,0x1B,0x41,0x1B,0x52,0x7C,0x1B,0x41,0x1B,0x55,0x7C,0x1B,0x41,0x1B,0x51,0x7C,0x1B,0x41,0x1B,0x51,0x70,0x1B,0x41,0x1B,0x51,0x77,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x41,0x1B,0x56,0x6B,0x1B,0x44,0x1B,0x51,0x78,0x1B,0x44,0x1B,0x51,0x6C,0x1B,0x44,0x1B,0x51,0x74,0x1B,0x41,0x1B,0x51,0x33,0x1B,0x41,0x1B,0x55,0x37,0x1B,0x41,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x53,0x7F,0x1B,0x46,0x1B,0x53,0x7F,0x1B,0x43,0x1B,0x53,0x74,0x1B,0x43,0x1B,0x53,0x7F,0x1B,0x46,0x1B,0x53,0x7C,0x1B,0x45,0x1B,0x53,0x68,0x1B,0x45,0x1B,0x52,0x28,0x1B,0x45,0x1B,0x55,0x6B,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x44,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x52,0x2F,0x1B,0x41,0x1B,0x52,0x27,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x45,0x1B,0x56,0x68,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x52,0x27,0x1B,0x41,0x1B,0x52,0x23,0x1B,0x41,0x1B,0x52,0x2F,0x1B,0x41,0x1B,0x52,0x2F,0x1B,0x45,0x1B,0x56,0x77,0x1B,0x45,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x7B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x6F,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x3C,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7B,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x53,0x7F,0x1B,0x46,0x1B,0x53,0x30,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x46,0x1B,0x53,0x68,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x42,0x1B,0x56,0x2B,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x42,0x1B,0x56,0x28,0x1B,0x45,0x1B,0x52,0x27,0x1B,0x42,0x1B,0x52,0x2F,0x1B,0x42,0x1B,0x56,0x2F,0x1B,0x42,0x1B,0x56,0x63,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x41,0x1B,0x55,0x68,0x1B,0x45,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x43,0x1B,0x53,0x3F,0x1B,0x43,0x1B,0x53,0x77,0x1B,0x46,0x1B,0x53,0x78,0x1B,0x45,0x1B,0x56,0x6B,0x1B,0x42,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x70,0x1B,0x45,0x1B,0x52,0x70,0x1B,0x42,0x1B,0x52,0x37,0x1B,0x42,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x45,0x1B,0x52,0x78,0x1B,0x41,0x1B,0x55,0x68,0x1B,0x42,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x6C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x6B,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x53,0x74,0x1B,0x46,0x1B,0x53,0x70,0x1B,0x46,0x1B,0x53,0x23,0x1B,0x42,0x1B,0x53,0x28,0x1B,0x45,0x1B,0x52,0x6F,0x1B,0x42,0x1B,0x52,0x77,0x1B,0x42,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x28,0x1B,0x45,0x1B,0x56,0x68,0x1B,0x41,0x1B,0x55,0x7C,0x1B,0x41,0x1B,0x55,0x7C,0x1B,0x41,0x1B,0x51,0x7C,0x1B,0x45,0x1B,0x52,0x34,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x45,0x1B,0x52,0x68,0x1B,0x45,0x1B,0x55,0x7C,0x1B,0x41,0x1B,0x55,0x23,0x1B,0x42,0x1B,0x56,0x27,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x73,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x53,0x7F,0x1B,0x46,0x1B,0x53,0x28,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x37,0x1B,0x42,0x1B,0x52,0x27,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x73,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x45,0x1B,0x52,0x23,0x1B,0x41,0x1B,0x52,0x23,0x1B,0x41,0x1B,0x52,0x2B,0x1B,0x45,0x1B,0x52,0x37,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x45,0x1B,0x52,0x68,0x1B,0x45,0x1B,0x55,0x6B,0x1B,0x45,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x42,0x1B,0x56,0x20,0x1B,0x42,0x1B,0x52,0x27,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x70,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x45,0x1B,0x52,0x70,0x1B,0x41,0x1B,0x52,0x70,0x1B,0x45,0x1B,0x52,0x70,0x1B,0x41,0x1B,0x52,0x70,0x1B,0x41,0x1B,0x55,0x70,0x1B,0x41,0x1B,0x55,0x70,0x1B,0x45,0x1B,0x55,0x34,0x1B,0x45,0x1B,0x55,0x68,0x1B,0x45,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x45,0x1B,0x56,0x6B,0x1B,0x45,0x1B,0x52,0x74,0x1B,0x45,0x1B,0x52,0x68,0x1B,0x41,0x1B,0x52,0x2C,0x1B,0x41,0x1B,0x52,0x23,0x1B,0x45,0x1B,0x52,0x73,0x1B,0x45,0x1B,0x52,0x23,0x1B,0x45,0x1B,0x52,0x73,0x1B,0x41,0x1B,0x55,0x70,0x1B,0x41,0x1B,0x55,0x23,0x1B,0x41,0x1B,0x55,0x70,0x1B,0x41,0x1B,0x55,0x3C,0x1B,0x42,0x1B,0x56,0x23,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x41,0x1B,0x56,0x68,0x1B,0x41,0x1B,0x55,0x30,0x1B,0x41,0x1B,0x55,0x74,0x1B,0x45,0x1B,0x52,0x7C,0x1B,0x45,0x1B,0x55,0x7C,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x55,0x2F,0x1B,0x41,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x55,0x7C,0x1B,0x44,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x33,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x41,0x1B,0x55,0x78,0x1B,0x44,0x1B,0x51,0x7F,0x1B,0x44,0x1B,0x55,0x74,0x1B,0x41,0x1B,0x55,0x74,0x1B,0x45,0x1B,0x52,0x23,0x1B,0x45,0x1B,0x52,0x70,0x1B,0x45,0x1B,0x52,0x70,0x1B,0x41,0x1B,0x52,0x78,0x1B,0x45,0x1B,0x55,0x74,0x1B,0x41,0x1B,0x55,0x78,0x1B,0x41,0x1B,0x51,0x34,0x1B,0x44,0x1B,0x54,0x68,0x1B,0x44,0x1B,0x51,0x7F,0x1B,0x45,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x44,0x1B,0x55,0x6B,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x30,0x1B,0x44,0x1B,0x51,0x7F,0x1B,0x44,0x1B,0x55,0x7C,0x1B,0x44,0x1B,0x55,0x70,0x1B,0x41,0x1B,0x55,0x7C,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x34,0x1B,0x41,0x1B,0x51,0x63,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x41,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x3F,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x45,0x1B,0x56,0x60,0x1B,0x44,0x1B,0x52,0x7C,0x1B,0x44,0x1B,0x51,0x77,0x1B,0x44,0x1B,0x54,0x2B,0x1B,0x44,0x1B,0x54,0x64,0x1B,0x44,0x1B,0x54,0x20,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x51,0x37,0x1B,0x41,0x1B,0x51,0x78,0x1B,0x44,0x1B,0x51,0x78,0x1B,0x44,0x1B,0x54,0x3F,0x1B,0x44,0x1B,0x51,0x73,0x1B,0x44,0x1B,0x52,0x77,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x68,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x34,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x73,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x60,0x1B,0x41,0x1B,0x56,0x70,0x1B,0x44,0x1B,0x52,0x7C,0x1B,0x44,0x1B,0x51,0x28,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x2B,0x1B,0x44,0x1B,0x54,0x64,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x51,0x74,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x37,0x1B,0x44,0x1B,0x55,0x6B,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x51,0x7F,0x1B,0x45,0x1B,0x56,0x30,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x42,0x1B,0x56,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x77,0x1B,0x42,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x37,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x78,0x1B,0x46,0x1B,0x56,0x7F,0x1B,0x45,0x1B,0x56,0x60,0x1B,0x41,0x1B,0x56,0x78,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x6C,0x1B,0x44,0x1B,0x54,0x7B,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x23,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x30,0x1B,0x44,0x1B,0x51,0x37,0x1B,0x44,0x1B,0x51,0x68,0x1B,0x44,0x1B,0x54,0x24,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x51,0x77,0x1B,0x44,0x1B,0x52,0x7F,0x1B,0x44,0x1B,0x56,0x7C,0x1B,0x41,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x30,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x7C,0x1B,0x42,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x46,0x1B,0x56,0x77,0x1B,0x46,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x7C,0x1B,0x45,0x1B,0x56,0x60,0x1B,0x41,0x1B,0x56,0x70,0x1B,0x44,0x1B,0x52,0x7C,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x7B,0x1B,0x44,0x1B,0x51,0x2C,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x2B,0x1B,0x44,0x1B,0x54,0x60,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x28,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x78,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x51,0x37,0x1B,0x44,0x1B,0x55,0x68,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x77,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x52,0x7F,0x1B,0x41,0x1B,0x52,0x30,0x1B,0x42,0x1B,0x52,0x68,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x77,0x1B,0x42,0x1B,0x52,0x34,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x74,0x1B,0x46,0x1B,0x56,0x70,0x1B,0x42,0x1B,0x56,0x60,0x1B,0x41,0x1B,0x56,0x78,0x1B,0x41,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x20,0x1B,0x44,0x1B,0x51,0x6B,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x3F,0x1B,0x44,0x1B,0x54,0x3F,0x1B,0x44,0x1B,0x51,0x78,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x54,0x20,0x1B,0x44,0x1B,0x54,0x2B,0x1B,0x44,0x1B,0x54,0x64,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x2B,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x51,0x37,0x1B,0x44,0x1B,0x55,0x7C,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x54,0x3F,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x7B,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x77,0x1B,0x44,0x1B,0x51,0x7F,0x1B,0x44,0x1B,0x52,0x34,0x1B,0x42,0x1B,0x52,0x60,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x7C,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x70,0x1B,0x45,0x1B,0x52,0x60,0x1B,0x41,0x1B,0x52,0x7C,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x74,0x1B,0x44,0x1B,0x51,0x70,0x1B,0x44,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x30,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x24,0x1B,0x44,0x1B,0x54,0x78,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x6C,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x63,0x1B,0x44,0x1B,0x54,0x23,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x2C,0x1B,0x44,0x1B,0x51,0x37,0x1B,0x44,0x1B,0x51,0x6F,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x3F,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x54,0x33,0x1B,0x44,0x1B,0x54,0x7B,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x34,0x1B,0x44,0x1B,0x51,0x7F,0x1B,0x44,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x77,0x1B,0x42,0x1B,0x52,0x77,0x1B,0x41,0x1B,0x52,0x60,0x1B,0x41,0x1B,0x55,0x7C,0x1B,0x41,0x1B,0x51,0x70,0x1B,0x44,0x1B,0x51,0x2B,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x38,0x1B,0x44,0x1B,0x54,0x68,0x1B,0x44,0x1B,0x54,0x6C,0x1B,0x44,0x1B,0x54,0x77,0x1B,0x44,0x1B,0x51,0x3F,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x78,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x60,0x1B,0x44,0x1B,0x54,0x60,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x30,0x1B,0x44,0x1B,0x51,0x77,0x1B,0x44,0x1B,0x51,0x68,0x1B,0x44,0x1B,0x54,0x2F,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x54,0x6F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x24,0x1B,0x44,0x1B,0x54,0x73,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x23,0x1B,0x44,0x1B,0x54,0x30,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x52,0x77,0x1B,0x45,0x1B,0x52,0x30,0x1B,0x45,0x1B,0x52,0x78,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x42,0x1B,0x52,0x74,0x1B,0x41,0x1B,0x52,0x78,0x1B,0x41,0x1B,0x51,0x7C,0x1B,0x44,0x1B,0x51,0x63,0x1B,0x44,0x1B,0x51,0x78,0x1B,0x44,0x1B,0x54,0x78,0x1B,0x44,0x1B,0x54,0x34,0x1B,0x44,0x1B,0x54,0x77,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x77,0x1B,0x44,0x1B,0x54,0x63,0x1B,0x44,0x1B,0x54,0x6C,0x1B,0x44,0x1B,0x54,0x33,0x1B,0x44,0x1B,0x54,0x77,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x68,0x1B,0x44,0x1B,0x54,0x37,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x7B,0x1B,0x44,0x1B,0x54,0x70,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x27,0x1B,0x44,0x1B,0x54,0x73,0x1B,0x44,0x1B,0x51,0x68,0x1B,0x44,0x1B,0x54,0x60,0x1B,0x44,0x1B,0x54,0x3F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x54,0x7C,0x1B,0x44,0x1B,0x54,0x7B,0x1B,0x44,0x1B,0x54,0x33,0x1B,0x44,0x1B,0x54,0x68,0x1B,0x44,0x1B,0x54,0x74,0x1B,0x44,0x1B,0x54,0x7F,0x1B,0x44,0x1B,0x55,0x77,0x1B,0x45,0x1B,0x55,0x30};

////////////////////////////////////////////////////////////////////////

void setup() {
  Serial.begin(9600);  // Port série matériel de l'ATmega à 9600 bauds.
  minitel.changeSpeed(minitel.searchSpeed());
  minitel.smallMode();
}

////////////////////////////////////////////////////////////////////////

void loop() {
  
  // Affichage de la page
  newPage(TITRE);

  // Lecture du champ expression
  lectureChamp(PREMIERE_LIGNE_EXPRESSION, NB_LIGNES_EXPRESSION);
  Serial.println(texte);
  
  // Message de fin
  portrait();
  minitel.textMode();
  minitel.attributs(CARACTERE_NOIR);
  minitel.moveCursorXY(7,23);
  minitel.print("Merci de votre participation");
  minitel.noCursor();
  delay(4000);
}

////////////////////////////////////////////////////////////////////////

void newPage(String titre) {
  minitel.newScreen();
  minitel.println(titre);
  for (int i=1; i<=40; i++) {
    minitel.writeByte(0x7E);
  }
}

////////////////////////////////////////////////////////////////////////

void champVide(int premiereLigne, int nbLignes)
{
  minitel.noCursor();
  minitel.moveCursorXY(1,premiereLigne);
  minitel.clearScreenFromCursor();
  for (int j=0; j<nbLignes; j++) {
    minitel.attributs(CARACTERE_BLEU);
    minitel.print(VIDE);
    minitel.repeat(39);
    minitel.attributs(CARACTERE_BLANC);
  }
  texte="";
  nbCaracteres=0;
  minitel.moveCursorXY(31,24);
  minitel.print("puis ");
  minitel.attributs(INVERSION_FOND);
  minitel.print("ENVOI");
  minitel.attributs(FOND_NORMAL);
  minitel.moveCursorDown(premiereLigne-1);
  minitel.cursor();
}

////////////////////////////////////////////////////////////////////////

void correction(int nbLignes) {
  if ((nbCaracteres > 0) && (nbCaracteres <= 40*nbLignes)) {
    if (nbCaracteres != 40*nbLignes) { minitel.moveCursorLeft(1); }
    minitel.attributs(CARACTERE_BLEU);
    minitel.print(VIDE);
    minitel.attributs(CARACTERE_BLANC);
    minitel.moveCursorLeft(1);
    unsigned int index = texte.length()-1;
    if (texte.charAt(index) >> 8 == 0xFFFFFFFF) {  // Caractère spécial
      index--;
      if (texte.charAt(index) >> 8 == 0xFFFFFFFF && texte.charAt(index-1) == 0xFFFFFFE2) index--;  // Les caractères spéciaux codés sur 3 octets commencent par 0xE2
    }
    texte.remove(index);
    nbCaracteres--;
  }
}

////////////////////////////////////////////////////////////////////////

void lectureChamp(int premiereLigne, int nbLignes) {
  champVide(premiereLigne,nbLignes);
  boolean fin = false;
  while (!fin) {
    touche = minitel.getKeyCode();
    if ((touche != 0) &&
        (touche != CONNEXION_FIN) &&
        (touche != SOMMAIRE) &&
        (touche != ANNULATION) &&
        (touche != RETOUR) &&
        (touche != REPETITION) &&
        (touche != GUIDE) &&
        (touche != CORRECTION) &&
        (touche != SUITE) &&
        (touche != ENVOI)) {
      if (nbCaracteres < 40*nbLignes) {
        nbCaracteres++;
        texte += minitel.getString(touche);
      }
      if (nbCaracteres == 40*nbLignes) {
        minitel.moveCursorXY(40,(premiereLigne-1)+nbLignes);
      }
    }
    switch (touche) {
      case ENVOI : 
        fin = true;
        break;
      case ANNULATION :
        champVide(premiereLigne,nbLignes);
        break;
      case CORRECTION :
        correction(nbLignes);
        break;
    }    
  }
}

////////////////////////////////////////////////////////////////////////

void portrait() {
  // Voir https://github.com/eserandour/Conversion_Videotex_Hex
  for (int i=0; i<LONGUEUR_TRAME_PORTRAIT; i++) {
    minitel.writeByte(pgm_read_byte_near(PORTRAIT + i));
  }
}

////////////////////////////////////////////////////////////////////////
